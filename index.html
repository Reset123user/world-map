<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Interactive World Map with Hover</title>
  <style>
    html, body {
      margin: 0;
      height: 100%;
      overflow: hidden;
      background: #000;
      font-family: sans-serif;
      touch-action: none;
    }

    #viewport {
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
}

    

    #map-container {
      position: absolute;
      top: 0;
      left: 0;
      transform-origin: 0 0;
      will-change: transform;
    }

    .foreground {
      width: 1920px;
      height: 1080px;
      background: url('WORLD MAP.png') no-repeat center center;
      background-size: contain;
      position: relative;
    }

    .location-container {
      position: absolute;
      text-align: center;
      z-index: 10;
      pointer-events: auto;
    }

    .location-button {
      width: 18px;
      height: 18px;
      background: lightgreen;
      border-radius: 50%;
      cursor: pointer;
      position: relative;
      overflow: visible;
    }

    .location-button::after,
    .location-button::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 18px;
      height: 18px;
      background: lightgreen;
      border-radius: 50%;
      opacity: 0.5;
      transform: translate(-50%, -50%) scale(0.5);
      z-index: -1;
    }

    .location-button::after {
      animation: ripple 2s infinite ease-out;
    }

    .location-button::before {
      animation: ripple 2s 1s infinite ease-out;
    }

    @keyframes ripple {
      0% {
        transform: translate(-50%, -50%) scale(0.5);
        opacity: 0.5;
      }
      50% {
        opacity: 0.2;
      }
      100% {
        transform: translate(-50%, -50%) scale(3);
        opacity: 0;
      }
    }

    .label {
      display: none;
      position: absolute;
      top: 24px;
      left: 50%;
      transform: translateX(-50%);
      white-space: nowrap;
      color: white;
      background: rgba(0, 0, 0, 0.7);
      padding: 4px 8px;
      font-size: 12px;
      border-radius: 4px;
    }

    .location-container:hover .label {
      display: block;
    }
  </style>
</head>
<body>
  <div id="viewport">
        <div id="map-container">
      <div class="foreground">
        <div class="location-container" style="top: 250px; left: 540px;">
          <div class="location-button"></div>
          <div class="label">USA</div>
        </div>
        <div class="location-container" style="top: 540px; left: 920px;">
          <div class="location-button"></div>
          <div class="label">India</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const viewport = document.getElementById("viewport");
    const mapContainer = document.getElementById("map-container");
    const cursorMarker = document.getElementById("cursor-marker");

    let scale = 1.5;
    let targetScale = scale;
    let offsetX = 0, offsetY = 0;
    let targetOffsetX = 0, targetOffsetY = 0;

    const mapWidth = 1920;
    const mapHeight = 1080;

    let cursorX = window.innerWidth * 0.5;
    let cursorY = window.innerHeight * 0.5;

    function clamp(val, min, max) {
      return Math.min(Math.max(val, min), max);
    }

    function animateTransform() {
      scale += (targetScale - scale) * 0.03;
      offsetX += (targetOffsetX - offsetX) * 0.03;
      offsetY += (targetOffsetY - offsetY) * 0.015;
      mapContainer.style.transform = `translate(${offsetX}px, ${offsetY}px) scale(${scale})`;
      requestAnimationFrame(animateTransform);
    }

    function updateTargetOffsetsFromCursor() {
      const scaledWidth = mapWidth * targetScale;
      const scaledHeight = mapHeight * targetScale;
      const maxOffsetX = scaledWidth - window.innerWidth;
      const maxOffsetY = scaledHeight - window.innerHeight;
      const ratioX = cursorX / window.innerWidth;
      const ratioY = cursorY / window.innerHeight;
      targetOffsetX = clamp(-maxOffsetX * ratioX, -maxOffsetX, 0);
      targetOffsetY = clamp(-maxOffsetY * ratioY, -maxOffsetY, 0);
          }

    viewport.addEventListener("mousemove", (e) => {
      cursorX = e.clientX;
      cursorY = e.clientY;
      updateTargetOffsetsFromCursor();
    });

    viewport.addEventListener("wheel", (e) => {
      e.preventDefault();
      const delta = e.deltaY > 0 ? -0.05 : 0.05;
      targetScale = clamp(targetScale + delta, 1, 2.5);
      updateTargetOffsetsFromCursor();
    }, { passive: false });

    let lastTouchDistance = null;
    let lastTouchCenter = null;

    function getDistance(touches) {
      const dx = touches[0].clientX - touches[1].clientX;
      const dy = touches[0].clientY - touches[1].clientY;
      return Math.sqrt(dx * dx + dy * dy);
    }

    function getCenter(touches) {
      return {
        x: (touches[0].clientX + touches[1].clientX) / 2,
        y: (touches[0].clientY + touches[1].clientY) / 2
      };
    }

    viewport.addEventListener("touchstart", (e) => {
      if (e.touches.length === 2) {
        lastTouchDistance = getDistance(e.touches);
        lastTouchCenter = getCenter(e.touches);
      }
    });

    viewport.addEventListener("touchmove", (e) => {
      if (e.touches.length === 1) {
        cursorX = e.touches[0].clientX;
        cursorY = e.touches[0].clientY;
        updateTargetOffsetsFromCursor();
      } else if (e.touches.length === 2) {
        const newDistance = getDistance(e.touches);
        const center = getCenter(e.touches);
        const distanceChange = newDistance - lastTouchDistance;
        targetScale = clamp(targetScale + distanceChange * 0.001, 1, 2.5);
        cursorX = center.x;
        cursorY = center.y;
        updateTargetOffsetsFromCursor();
        lastTouchDistance = newDistance;
        lastTouchCenter = center;
      }
    }, { passive: false });

    updateTargetOffsetsFromCursor();
    animateTransform();
  </script>
</body>
</html>
